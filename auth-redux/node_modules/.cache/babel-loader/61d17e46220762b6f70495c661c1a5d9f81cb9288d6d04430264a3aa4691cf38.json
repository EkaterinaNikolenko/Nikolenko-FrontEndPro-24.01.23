{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\test\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\js\\\\hw\\\\auth-redux\\\\src\\\\components\\\\Login.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { createUser } from '../api/api';\nimport { useNavigate } from 'react-router-dom';\nimport { useAppDispatch } from '../reducer/reducers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginContainer = styled.div`\ndisplay:flex;\njustify-content:center;\nalign-items:center;\nheight:100vh;\n`;\n_c = LoginContainer;\nconst FormContainer = styled.div`\nheight:300px;\nbox-shadow:1px 2px 2px 2px rgb(67, 68, 74, 0.5);\npadding:10px;\n`;\n_c2 = FormContainer;\nconst Form = styled.form`\ndisplay:flex;\nflex-direction:column;\ngap:20px;\n`;\n_c3 = Form;\nexport const Login = () => {\n  _s();\n  const isAuthorized = localStorage.getItem('token');\n  const navigate = useNavigate();\n  const dispatch = useAppDispatch();\n  useEffect(() => {\n    if (isAuthorized) {}\n  }, [navigate, isAuthorized]);\n  const [credential, setCredential] = useState({\n    name: '',\n    email: '',\n    gender: 'male',\n    status: 'active'\n  });\n  const handleInputs = event => {\n    const {\n      name,\n      value\n    } = event.currentTarget; // Destructure name and value from event.currentTarget\n    event.preventDefault();\n    setCredential(state => ({\n      ...state,\n      [name]: value\n    }));\n  };\n  const submitHandler = async event => {\n    event.preventDefault();\n    const data = await createUser(credential);\n    if (data) {\n      localStorage.setItem('token', `${data === null || data === void 0 ? void 0 : data.id}`);\n      navigate('/');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(LoginContainer, {\n    children: /*#__PURE__*/_jsxDEV(FormContainer, {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Fill inputs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        action: \"submit\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          onChange: handleInputs,\n          value: credential.name,\n          name: \"name\",\n          type: \"text\",\n          placeholder: \"name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          onChange: handleInputs,\n          value: credential.email,\n          name: \"email\",\n          type: \"email\",\n          placeholder: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          required: true,\n          onChange: handleInputs,\n          name: \"gender\",\n          id: \"gender\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"male\",\n            children: \"Male\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"female\",\n            children: \"Female\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          required: true,\n          onChange: handleInputs,\n          name: \"status\",\n          id: \"sex\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"active\",\n            children: \"Active\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"inactive\",\n            children: \"Inactive\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"V8DNk9t+LJzY6p4T9khCPooaiHg=\", false, function () {\n  return [useNavigate, useAppDispatch];\n});\n_c4 = Login;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"LoginContainer\");\n$RefreshReg$(_c2, \"FormContainer\");\n$RefreshReg$(_c3, \"Form\");\n$RefreshReg$(_c4, \"Login\");","map":{"version":3,"names":["React","useEffect","useState","styled","createUser","useNavigate","useAppDispatch","jsxDEV","_jsxDEV","LoginContainer","div","_c","FormContainer","_c2","Form","form","_c3","Login","_s","isAuthorized","localStorage","getItem","navigate","dispatch","credential","setCredential","name","email","gender","status","handleInputs","event","value","currentTarget","preventDefault","state","submitHandler","data","setItem","id","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","action","required","onChange","type","placeholder","_c4","$RefreshReg$"],"sources":["C:/Users/test/OneDrive/Рабочий стол/js/hw/auth-redux/src/components/Login.tsx"],"sourcesContent":["import React, { FC, SyntheticEvent, useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport { createUser } from '../api/api'\nimport {  useNavigate } from 'react-router-dom'\nimport { useAppDispatch } from '../reducer/reducers'\n\nconst LoginContainer = styled.div`\ndisplay:flex;\njustify-content:center;\nalign-items:center;\nheight:100vh;\n`\nconst FormContainer = styled.div`\nheight:300px;\nbox-shadow:1px 2px 2px 2px rgb(67, 68, 74, 0.5);\npadding:10px;\n`\nconst Form = styled.form`\ndisplay:flex;\nflex-direction:column;\ngap:20px;\n`\n\n\n\nexport const Login = (): JSX.Element => {\n\n    const isAuthorized = localStorage.getItem('token')\n    const navigate = useNavigate()\n    const dispatch =useAppDispatch()\n    useEffect(()=>{\n        if(isAuthorized){\n        }\n\n    },[navigate,isAuthorized])\n\n   const [credential, setCredential] = useState<{name:string,email:string,gender:string,status:string}>\n   ({name:'',email:'',gender:'male',status:'active'})\n\n   const handleInputs = (event:React.FormEvent<HTMLSelectElement|HTMLInputElement>)=>{\n    const { name, value } = event.currentTarget; // Destructure name and value from event.currentTarget\n    event.preventDefault();\n    setCredential((state) => ({ ...state, [name]: value }));\n   }\n   \n   const submitHandler = async (event:React.SyntheticEvent) =>{\n    event.preventDefault()\n    const data = await createUser(credential)\n    if(data){\n        localStorage.setItem('token',`${data?.id}`)\n        navigate('/')\n    }\n\n   }\n\n  return (\n    <LoginContainer  >\n        <FormContainer onSubmit={submitHandler}>\n        <h3>Login</h3>\n        <p>Fill inputs</p>\n        <Form action=\"submit\">\n            <input required onChange={handleInputs} value={credential.name} name='name' type=\"text\" placeholder='name' />\n            <input required onChange={handleInputs}  value={credential.email} name='email' type=\"email\" placeholder='email' />\n            <select  required onChange={handleInputs}  name=\"gender\" id=\"gender\">\n                <option value=\"male\">Male</option>\n                <option value=\"female\">Female</option>\n            </select>\n            <select   required onChange={handleInputs}  name=\"status\" id=\"sex\">\n                <option  value=\"active\">Active</option>\n                <option value=\"inactive\">Inactive</option>\n            </select>\n            <button type='submit'>Submit</button>\n        </Form>\n        </FormContainer>\n        </LoginContainer>\n\n  )\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAwBC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACtE,OAAOC,MAAM,MAAM,mBAAmB;AACtC,SAASC,UAAU,QAAQ,YAAY;AACvC,SAAUC,WAAW,QAAQ,kBAAkB;AAC/C,SAASC,cAAc,QAAQ,qBAAqB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEpD,MAAMC,cAAc,GAAGN,MAAM,CAACO,GAAI;AAClC;AACA;AACA;AACA;AACA,CAAC;AAAAC,EAAA,GALKF,cAAc;AAMpB,MAAMG,aAAa,GAAGT,MAAM,CAACO,GAAI;AACjC;AACA;AACA;AACA,CAAC;AAAAG,GAAA,GAJKD,aAAa;AAKnB,MAAME,IAAI,GAAGX,MAAM,CAACY,IAAK;AACzB;AACA;AACA;AACA,CAAC;AAAAC,GAAA,GAJKF,IAAI;AAQV,OAAO,MAAMG,KAAK,GAAGA,CAAA,KAAmB;EAAAC,EAAA;EAEpC,MAAMC,YAAY,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAClD,MAAMC,QAAQ,GAAGjB,WAAW,CAAC,CAAC;EAC9B,MAAMkB,QAAQ,GAAEjB,cAAc,CAAC,CAAC;EAChCL,SAAS,CAAC,MAAI;IACV,IAAGkB,YAAY,EAAC,CAChB;EAEJ,CAAC,EAAC,CAACG,QAAQ,EAACH,YAAY,CAAC,CAAC;EAE3B,MAAM,CAACK,UAAU,EAAEC,aAAa,CAAC,GAAGvB,QAAQ,CAC3C;IAACwB,IAAI,EAAC,EAAE;IAACC,KAAK,EAAC,EAAE;IAACC,MAAM,EAAC,MAAM;IAACC,MAAM,EAAC;EAAQ,CAAC,CAAC;EAElD,MAAMC,YAAY,GAAIC,KAAyD,IAAG;IACjF,MAAM;MAAEL,IAAI;MAAEM;IAAM,CAAC,GAAGD,KAAK,CAACE,aAAa,CAAC,CAAC;IAC7CF,KAAK,CAACG,cAAc,CAAC,CAAC;IACtBT,aAAa,CAAEU,KAAK,KAAM;MAAE,GAAGA,KAAK;MAAE,CAACT,IAAI,GAAGM;IAAM,CAAC,CAAC,CAAC;EACxD,CAAC;EAED,MAAMI,aAAa,GAAG,MAAOL,KAA0B,IAAI;IAC1DA,KAAK,CAACG,cAAc,CAAC,CAAC;IACtB,MAAMG,IAAI,GAAG,MAAMjC,UAAU,CAACoB,UAAU,CAAC;IACzC,IAAGa,IAAI,EAAC;MACJjB,YAAY,CAACkB,OAAO,CAAC,OAAO,EAAE,GAAED,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEE,EAAG,EAAC,CAAC;MAC3CjB,QAAQ,CAAC,GAAG,CAAC;IACjB;EAED,CAAC;EAEF,oBACEd,OAAA,CAACC,cAAc;IAAA+B,QAAA,eACXhC,OAAA,CAACI,aAAa;MAAC6B,QAAQ,EAAEL,aAAc;MAAAI,QAAA,gBACvChC,OAAA;QAAAgC,QAAA,EAAI;MAAK;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACdrC,OAAA;QAAAgC,QAAA,EAAG;MAAW;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eAClBrC,OAAA,CAACM,IAAI;QAACgC,MAAM,EAAC,QAAQ;QAAAN,QAAA,gBACjBhC,OAAA;UAAOuC,QAAQ;UAACC,QAAQ,EAAElB,YAAa;UAACE,KAAK,EAAER,UAAU,CAACE,IAAK;UAACA,IAAI,EAAC,MAAM;UAACuB,IAAI,EAAC,MAAM;UAACC,WAAW,EAAC;QAAM;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC7GrC,OAAA;UAAOuC,QAAQ;UAACC,QAAQ,EAAElB,YAAa;UAAEE,KAAK,EAAER,UAAU,CAACG,KAAM;UAACD,IAAI,EAAC,OAAO;UAACuB,IAAI,EAAC,OAAO;UAACC,WAAW,EAAC;QAAO;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAClHrC,OAAA;UAASuC,QAAQ;UAACC,QAAQ,EAAElB,YAAa;UAAEJ,IAAI,EAAC,QAAQ;UAACa,EAAE,EAAC,QAAQ;UAAAC,QAAA,gBAChEhC,OAAA;YAAQwB,KAAK,EAAC,MAAM;YAAAQ,QAAA,EAAC;UAAI;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAClCrC,OAAA;YAAQwB,KAAK,EAAC,QAAQ;YAAAQ,QAAA,EAAC;UAAM;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClC,CAAC,eACTrC,OAAA;UAAUuC,QAAQ;UAACC,QAAQ,EAAElB,YAAa;UAAEJ,IAAI,EAAC,QAAQ;UAACa,EAAE,EAAC,KAAK;UAAAC,QAAA,gBAC9DhC,OAAA;YAASwB,KAAK,EAAC,QAAQ;YAAAQ,QAAA,EAAC;UAAM;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACvCrC,OAAA;YAAQwB,KAAK,EAAC,UAAU;YAAAQ,QAAA,EAAC;UAAQ;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtC,CAAC,eACTrC,OAAA;UAAQyC,IAAI,EAAC,QAAQ;UAAAT,QAAA,EAAC;QAAM;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACQ;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAGzB,CAAC;AAAA3B,EAAA,CApDYD,KAAK;EAAA,QAGGZ,WAAW,EACZC,cAAc;AAAA;AAAA6C,GAAA,GAJrBlC,KAAK;AAAA,IAAAN,EAAA,EAAAE,GAAA,EAAAG,GAAA,EAAAmC,GAAA;AAAAC,YAAA,CAAAzC,EAAA;AAAAyC,YAAA,CAAAvC,GAAA;AAAAuC,YAAA,CAAApC,GAAA;AAAAoC,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}