{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { getUsers } from \"../api/api\";\nconst initialState = {\n  user: {\n    id: 0,\n    name: '',\n    email: '',\n    gender: '',\n    status: ''\n  },\n  comment: [],\n  loading: false,\n  error: null,\n  popup: false\n};\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    requesUsers: state => {\n      state.loading = true;\n    },\n    setUser: (state, action) => {\n      state.user = action.payload;\n      state.loading = false;\n    },\n    setErrorUser: (state, action) => {\n      state.error = action.payload;\n    },\n    setPopUp: (state, action) => {\n      state.popup = action.payload;\n    }\n  }\n});\nexport const {\n  setUser,\n  requesUsers,\n  setErrorUser,\n  setPopUp\n} = userSlice.actions;\nexport const getUser = id => {\n  return async dispatch => {\n    try {\n      dispatch(requesUsers()); // встановлюємо стан запиту на 'loading'\n      const response = await getUsers(id); // виконуємо API-запит для отримання даних про user\n      dispatch(setUser(response)); // зберігаємо результати API-запиту в стані\n      dispatch(setPopUp(true));\n      setTimeout(() => dispatch(setPopUp(false)), 1000);\n    } catch (error) {\n      dispatch(setErrorUser(error.message)); // зберігаємо повідомлення про помилку\n    }\n  };\n};\n\nexport default userSlice.reducer;","map":{"version":3,"names":["createSlice","getUsers","initialState","user","id","name","email","gender","status","comment","loading","error","popup","userSlice","reducers","requesUsers","state","setUser","action","payload","setErrorUser","setPopUp","actions","getUser","dispatch","response","setTimeout","message","reducer"],"sources":["C:/Users/test/OneDrive/Рабочий стол/js/hw/auth-redux/src/reducer/usersSlice.ts"],"sourcesContent":["import { PayloadAction, createSlice } from \"@reduxjs/toolkit\"\nimport { User, getUsers, getPosts } from \"../api/api\"\nimport { AppDispatch } from \"../store/store\"\n\n    const initialState = {\n        user: {\n          id: 0,\n          name: '',\n          email: '',\n          gender:'',\n          status:'',\n        },\n        comment:[],\n        loading:false,\n        error:null,\n        popup:false\n    }\n\nconst userSlice = createSlice({\n    name: 'user',\n    initialState,\n    reducers: {\n      requesUsers: (state)=>{\n        state.loading=true\n      },\n      setUser: (state, action: PayloadAction<User>) => {\n        state.user=action.payload\n        state.loading=false\n      },\n      setErrorUser:(state, action: PayloadAction<any>)=>{   \n        state.error=action.payload\n      },\n      setPopUp:(state,action:PayloadAction<boolean>)=>{\n        state.popup = action.payload\n      }\n    },\n  })\n  export const {setUser, requesUsers, setErrorUser,setPopUp} = userSlice.actions\n\n  export const getUser = (id:string) => {\n    return async (dispatch: AppDispatch) => {\n      try {\n        dispatch(requesUsers()); // встановлюємо стан запиту на 'loading'\n        const response = await getUsers(id); // виконуємо API-запит для отримання даних про user\n        dispatch(setUser(response)); // зберігаємо результати API-запиту в стані\n        dispatch(setPopUp(true))\n        setTimeout(()=>dispatch(setPopUp(false)),1000)\n      } catch (error:any) {\n        dispatch(setErrorUser(error.message)); // зберігаємо повідомлення про помилку\n      }\n    };\n  };\n\n  export default userSlice.reducer"],"mappings":"AAAA,SAAwBA,WAAW,QAAQ,kBAAkB;AAC7D,SAAeC,QAAQ,QAAkB,YAAY;AAGjD,MAAMC,YAAY,GAAG;EACjBC,IAAI,EAAE;IACJC,EAAE,EAAE,CAAC;IACLC,IAAI,EAAE,EAAE;IACRC,KAAK,EAAE,EAAE;IACTC,MAAM,EAAC,EAAE;IACTC,MAAM,EAAC;EACT,CAAC;EACDC,OAAO,EAAC,EAAE;EACVC,OAAO,EAAC,KAAK;EACbC,KAAK,EAAC,IAAI;EACVC,KAAK,EAAC;AACV,CAAC;AAEL,MAAMC,SAAS,GAAGb,WAAW,CAAC;EAC1BK,IAAI,EAAE,MAAM;EACZH,YAAY;EACZY,QAAQ,EAAE;IACRC,WAAW,EAAGC,KAAK,IAAG;MACpBA,KAAK,CAACN,OAAO,GAAC,IAAI;IACpB,CAAC;IACDO,OAAO,EAAEA,CAACD,KAAK,EAAEE,MAA2B,KAAK;MAC/CF,KAAK,CAACb,IAAI,GAACe,MAAM,CAACC,OAAO;MACzBH,KAAK,CAACN,OAAO,GAAC,KAAK;IACrB,CAAC;IACDU,YAAY,EAACA,CAACJ,KAAK,EAAEE,MAA0B,KAAG;MAChDF,KAAK,CAACL,KAAK,GAACO,MAAM,CAACC,OAAO;IAC5B,CAAC;IACDE,QAAQ,EAACA,CAACL,KAAK,EAACE,MAA6B,KAAG;MAC9CF,KAAK,CAACJ,KAAK,GAAGM,MAAM,CAACC,OAAO;IAC9B;EACF;AACF,CAAC,CAAC;AACF,OAAO,MAAM;EAACF,OAAO;EAAEF,WAAW;EAAEK,YAAY;EAACC;AAAQ,CAAC,GAAGR,SAAS,CAACS,OAAO;AAE9E,OAAO,MAAMC,OAAO,GAAInB,EAAS,IAAK;EACpC,OAAO,MAAOoB,QAAqB,IAAK;IACtC,IAAI;MACFA,QAAQ,CAACT,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;MACzB,MAAMU,QAAQ,GAAG,MAAMxB,QAAQ,CAACG,EAAE,CAAC,CAAC,CAAC;MACrCoB,QAAQ,CAACP,OAAO,CAACQ,QAAQ,CAAC,CAAC,CAAC,CAAC;MAC7BD,QAAQ,CAACH,QAAQ,CAAC,IAAI,CAAC,CAAC;MACxBK,UAAU,CAAC,MAAIF,QAAQ,CAACH,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAC,IAAI,CAAC;IAChD,CAAC,CAAC,OAAOV,KAAS,EAAE;MAClBa,QAAQ,CAACJ,YAAY,CAACT,KAAK,CAACgB,OAAO,CAAC,CAAC,CAAC,CAAC;IACzC;EACF,CAAC;AACH,CAAC;;AAED,eAAed,SAAS,CAACe,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}