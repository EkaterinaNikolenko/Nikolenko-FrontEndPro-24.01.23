{"ast":null,"code":"import axios from \"axios\";\nimport { KEY } from \"../key\";\nexport const getUsers = async id => {\n  try {\n    const headers = {\n      Authorization: `Bearer ${KEY}`,\n      // Replace with your actual access token\n      \"Content-Type\": \"application/json\"\n    };\n    const response = await axios.get(`https://gorest.co.in/public/v2/users/${id}`, {\n      headers\n    });\n    return response === null || response === void 0 ? void 0 : response.data;\n  } catch (error) {\n    console.warn('API error', error);\n    return error;\n  }\n};\nexport const getPosts = async user => {\n  try {\n    const id = localStorage.getItem('token');\n    const headers = {\n      Authorization: `Bearer ${KEY}`,\n      // Replace with your actual access token\n      \"Content-Type\": \"application/json\"\n    };\n    const response = await axios.get(`https://gorest.co.in/public/v2/users/${id}/posts`, {\n      headers\n    });\n    return response === null || response === void 0 ? void 0 : response.data;\n  } catch (error) {\n    console.warn('API error', error);\n    return null;\n  }\n};\nexport const createUser = async user => {\n  try {\n    const headers = {\n      Authorization: `Bearer ${KEY}`,\n      // Replace with your actual access token\n      \"Content-Type\": \"application/json\"\n    };\n    const response = await axios.post(\"https://gorest.co.in/public/v2/users\", user, {\n      headers\n    });\n    return response.data;\n  } catch (error) {\n    console.warn('API error', error);\n    return null;\n  }\n};\nexport const setNewPost = async comment => {\n  try {\n    const token = localStorage.getItem('token');\n    const headers = {\n      Authorization: `Bearer ${KEY}`,\n      // Replace with your actual access token\n      \"Content-Type\": \"application/json\"\n    };\n    const response = await axios.post(`https://gorest.co.in/public/v2/users/${token}/posts`, {\n      title: comment,\n      body: comment\n    }, {\n      headers\n    });\n    console.log(\"OK\");\n    return response.data;\n  } catch (error) {\n    console.warn('API error', error);\n    return null;\n  }\n};","map":{"version":3,"names":["axios","KEY","getUsers","id","headers","Authorization","response","get","data","error","console","warn","getPosts","user","localStorage","getItem","createUser","post","setNewPost","comment","token","title","body","log"],"sources":["C:/Users/test/OneDrive/Рабочий стол/js/hw/auth-redux/src/api/api.tsx"],"sourcesContent":["import axios, { AxiosResponse } from \"axios\";\nimport { KEY } from \"../key\";\n\n\nexport interface User {\n  id: number;\n  name: string;\n  email: string;\n  gender:string;\n  status:string;\n  // Other user properties...\n}\n\nexport const getUsers = async (id:string): Promise<User | any> => {\n  try {\n    const headers = {\n      Authorization: `Bearer ${KEY}`, // Replace with your actual access token\n      \"Content-Type\": \"application/json\",\n    };\n\n    const response: AxiosResponse<User> = await axios.get(`https://gorest.co.in/public/v2/users/${id}`,{headers});\n    return response?.data;\n  } catch (error) {\n    console.warn('API error', error);\n    return error;\n  }\n};\nexport const getPosts = async (user:User|null): Promise<User | null> => {\n  try {\n    const id = localStorage.getItem('token')\n\n    const headers = {\n      Authorization: `Bearer ${KEY}`, // Replace with your actual access token\n      \"Content-Type\": \"application/json\",\n    };\n\n    const response: AxiosResponse<User> = await axios.get(`https://gorest.co.in/public/v2/users/${id}/posts`,{headers});\n    return response?.data;\n  } catch (error) {\n    console.warn('API error', error);\n    return null;\n  }\n};\n\n\n\ninterface UserCreate {\n    name: string;\n    email: string;\n    gender:string;\n    status:string;\n    // Other user properties...\n  }\n  \n  export const createUser = async (user: UserCreate): Promise<User | null> => {\n    try {\n      const headers = {\n        Authorization: `Bearer ${KEY}`, // Replace with your actual access token\n        \"Content-Type\": \"application/json\",\n      };\n  \n      const response: AxiosResponse<User> = await axios.post(\n        \"https://gorest.co.in/public/v2/users\",\n        user,\n        { headers }\n      );\n\n      return response.data;\n    } catch (error) {\n      console.warn('API error', error);\n      return null;\n    }\n  };\n\n\n  export const setNewPost = async (comment:string): Promise<User | null> => {\n    try {\n      const token = localStorage.getItem('token')\n      const headers = {\n        Authorization: `Bearer ${KEY}`, // Replace with your actual access token\n        \"Content-Type\": \"application/json\",\n      };\n  \n      const response: AxiosResponse<User> = await axios.post(\n        `https://gorest.co.in/public/v2/users/${token}/posts`,\n        {title:comment,body:comment},\n        { headers }\n      );\n      console.log(\"OK\")\n      return response.data;\n    } catch (error) {\n      console.warn('API error', error);\n      return null;\n    }\n  };"],"mappings":"AAAA,OAAOA,KAAK,MAAyB,OAAO;AAC5C,SAASC,GAAG,QAAQ,QAAQ;AAY5B,OAAO,MAAMC,QAAQ,GAAG,MAAOC,EAAS,IAA0B;EAChE,IAAI;IACF,MAAMC,OAAO,GAAG;MACdC,aAAa,EAAG,UAASJ,GAAI,EAAC;MAAE;MAChC,cAAc,EAAE;IAClB,CAAC;IAED,MAAMK,QAA6B,GAAG,MAAMN,KAAK,CAACO,GAAG,CAAE,wCAAuCJ,EAAG,EAAC,EAAC;MAACC;IAAO,CAAC,CAAC;IAC7G,OAAOE,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEE,IAAI;EACvB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACC,IAAI,CAAC,WAAW,EAAEF,KAAK,CAAC;IAChC,OAAOA,KAAK;EACd;AACF,CAAC;AACD,OAAO,MAAMG,QAAQ,GAAG,MAAOC,IAAc,IAA2B;EACtE,IAAI;IACF,MAAMV,EAAE,GAAGW,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAExC,MAAMX,OAAO,GAAG;MACdC,aAAa,EAAG,UAASJ,GAAI,EAAC;MAAE;MAChC,cAAc,EAAE;IAClB,CAAC;IAED,MAAMK,QAA6B,GAAG,MAAMN,KAAK,CAACO,GAAG,CAAE,wCAAuCJ,EAAG,QAAO,EAAC;MAACC;IAAO,CAAC,CAAC;IACnH,OAAOE,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEE,IAAI;EACvB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACC,IAAI,CAAC,WAAW,EAAEF,KAAK,CAAC;IAChC,OAAO,IAAI;EACb;AACF,CAAC;AAYC,OAAO,MAAMO,UAAU,GAAG,MAAOH,IAAgB,IAA2B;EAC1E,IAAI;IACF,MAAMT,OAAO,GAAG;MACdC,aAAa,EAAG,UAASJ,GAAI,EAAC;MAAE;MAChC,cAAc,EAAE;IAClB,CAAC;IAED,MAAMK,QAA6B,GAAG,MAAMN,KAAK,CAACiB,IAAI,CACpD,sCAAsC,EACtCJ,IAAI,EACJ;MAAET;IAAQ,CACZ,CAAC;IAED,OAAOE,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACC,IAAI,CAAC,WAAW,EAAEF,KAAK,CAAC;IAChC,OAAO,IAAI;EACb;AACF,CAAC;AAGD,OAAO,MAAMS,UAAU,GAAG,MAAOC,OAAc,IAA2B;EACxE,IAAI;IACF,MAAMC,KAAK,GAAGN,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,MAAMX,OAAO,GAAG;MACdC,aAAa,EAAG,UAASJ,GAAI,EAAC;MAAE;MAChC,cAAc,EAAE;IAClB,CAAC;IAED,MAAMK,QAA6B,GAAG,MAAMN,KAAK,CAACiB,IAAI,CACnD,wCAAuCG,KAAM,QAAO,EACrD;MAACC,KAAK,EAACF,OAAO;MAACG,IAAI,EAACH;IAAO,CAAC,EAC5B;MAAEf;IAAQ,CACZ,CAAC;IACDM,OAAO,CAACa,GAAG,CAAC,IAAI,CAAC;IACjB,OAAOjB,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACC,IAAI,CAAC,WAAW,EAAEF,KAAK,CAAC;IAChC,OAAO,IAAI;EACb;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}